<!doctype html><html lang=en><head><title>Exploring UIs in the terminal part 1: React/Ink Â· cekrem.github.io</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Christian Ekrem"><meta name=description content="Creating a React app!"><meta name=keywords content="developer,personal"><meta name=fediverse:creator content><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://cekrem.github.io/images/banner.jpg"><meta name=twitter:title content="Exploring UIs in the terminal part 1: React/Ink"><meta name=twitter:description content="Creating a React app!"><meta property="og:url" content="https://cekrem.github.io/posts/do-more-stuff-cli-tool-part-1/"><meta property="og:site_name" content="cekrem.github.io"><meta property="og:title" content="Exploring UIs in the terminal part 1: React/Ink"><meta property="og:description" content="Creating a React app!"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-08-29T00:00:00+00:00"><meta property="article:modified_time" content="2023-08-29T00:00:00+00:00"><meta property="article:tag" content="Cli"><meta property="article:tag" content="Ui"><meta property="article:tag" content="Npm Package"><meta property="article:tag" content="React"><meta property="article:tag" content="Ink"><meta property="og:image" content="https://cekrem.github.io/images/banner.jpg"><link rel=canonical href=https://cekrem.github.io/posts/do-more-stuff-cli-tool-part-1/><link rel=preload href=/fonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.f63b17f16aa5dbf557dd08e6806b0b477d5e6d8f2af64807e14512a12dd2ccaa.css integrity="sha256-9jsX8Wql2/VX3QjmgGsLR31ebY8q9kgH4UUSoS3SzKo=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.be284be20943b01514c49cbe3832fe8cc215513c0e5962b1d349102cf16f2c25.css integrity="sha256-vihL4glDsBUUxJy+ODL+jMIVUTwOWWKx00kQLPFvLCU=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/images/favicon.svg sizes=any><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-auto"><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=https://cekrem.github.io/>cekrem.github.io
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa-solid fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/about/>About</a></li><li class=navigation-item><a class=navigation-link href=/posts/books-i-think-software-engineers-should-read>Recommended Books</a></li><li class=navigation-item><a class=navigation-link href=https://creators.spotify.com/pod/show/disippel>Podcast (ðŸ‡³ðŸ‡´)</a></li><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://cekrem.github.io/posts/do-more-stuff-cli-tool-part-1/>Exploring UIs in the terminal part 1: React/Ink</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa-solid fa-calendar" aria-hidden=true></i>
<time datetime=2023-08-29T00:00:00Z>August 29, 2023
</time></span><span class=reading-time><i class="fa-solid fa-clock" aria-hidden=true></i>
4-minute read</span></div><div class=tags><i class="fa-solid fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/cli/>Cli</a>
</span><span class=separator>â€¢</span>
<span class=tag><a href=/tags/ui/>Ui</a>
</span><span class=separator>â€¢</span>
<span class=tag><a href=/tags/npm-package/>Npm Package</a>
</span><span class=separator>â€¢</span>
<span class=tag><a href=/tags/react/>React</a>
</span><span class=separator>â€¢</span>
<span class=tag><a href=/tags/ink/>Ink</a></span></div></div></header><div class=post-content><h2 id=where-do-uis-belong>Where do UIs belong?
<a class=heading-link href=#where-do-uis-belong><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>Most of us consider ReactJS a tool for rendering UI components on the web (or the DOM, specifically), and if by &ldquo;React&rdquo; we mean &ldquo;ReactDOM&rdquo; then we&rsquo;re right. But as we&rsquo;ve seen with React Native, React is not confined to the DOM at all, and can render to any number of environments. After all, like it says on the box, React is a &ldquo;JavaScript library for building user interfaces&rdquo;. We&rsquo;ve seen the same with <a href=https://www.jetbrains.com/lp/compose-multiplatform/ class=external-link target=_blank rel=noopener>Compose Multiplatform</a>: what used to be a framework for creating Android UI can actually be used for so much more.</p><p>Personally I think the actual <em>rendering</em> part of both React and Compose is super interesting! But it feels a bit overwhelming to dive in to all that&rsquo;s going on when interacting with the DOM, let alone the mobile targets with all their domain specific weirdness. If only there was an even simpler environment where a UI could live. Something a lot more constrained and minimalistic than web/mobile, and ideally something I&rsquo;m already familiar with&mldr;</p><h2 id=the-terminal>The terminal!
<a class=heading-link href=#the-terminal><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>The simplicity, power and general feelgood of a properly set up terminal is just unbeatable. Mine is not as heavily customized as it used to be, especially after I started using <a href=https://www.warp.dev/ class=external-link target=_blank rel=noopener>Warp</a>, but it&rsquo;s still the space I spend most time tweaking to my liking. And even after growing quite dependent on Android Studio for Android stuff, it&rsquo;s still an environment I spend a lot of my working hours in. <strong>And I recently learned that there are libraries available for using both React and Compose for the terminal</strong>! The one and only Jake Wharton has made <a href=https://github.com/JakeWharton/mosaic class=external-link target=_blank rel=noopener>Mosaic</a>, &ldquo;an experimental tool for building console UI in Kotlin using the Jetpack Compose compiler/runtime.&rdquo; Mosaic is based on <a href=https://github.com/vadimdemedes/ink class=external-link target=_blank rel=noopener>ink</a>, which is basically the same only it&rsquo;s using React instead of Compose to render. To be fair, btw, ink came first; if we&rsquo;re giving out points the first one goes to the React community.</p><p>These libraries are great for two reasons:</p><ol><li>it&rsquo;s a lot more fun to write React/Compose than doing <code>printf("\033[%dB", lineNumber)</code> til kingdom come just to move your cursor.</li><li>It&rsquo;s a perfect case study to learn how rendering works.</li></ol><h2 id=starting-with-ink>Starting with ink
<a class=heading-link href=#starting-with-ink><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>Since I&rsquo;m already somewhat familiar with how React rendering works when targeting the DOM, this is where I&rsquo;ll start my terminal UI adventure: <strong>I&rsquo;ll create a simple yet hopefully useful CLI as a case study for rendering UI in the terminal</strong>. In the next part I&rsquo;ll try and make the same tool only using Mosaic instead. If my courage doesn&rsquo;t fail me, I&rsquo;ll sum it all up with a final post exploring some differences and key takeaways from both libraries. Maybe, just maybe, I&rsquo;ll be inspired to make something similar myself with Elm or something. Exciting!</p><h2 id=what-i-made>What I made
<a class=heading-link href=#what-i-made><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>Basically, I made <code>domorestuff</code>, a simple tool to run multiple shell commands in parallel, and inspect the output of each one. Since ink actually supports all React features, it felt instantly familiar. The only sort of domain specific caveat I encountered was how to keep the app from exciting after initial output. TL;DR: it seems any input listener or interval running will keep stuff alive, but there might be more to it than that.</p><p><img src=inkdomorestuff.gif alt="domorestuff, ink edition"></p><p>You can try the tool yourself, just <code>npx domorestuff</code>. I&rsquo;ve taken a few shortcuts here and there, but the <a href=https://github.com/cekrem/domorestuff class=external-link target=_blank rel=noopener>source code</a> should be fairly straight forward for those familiar with React.</p><p>In fact, let me prove that:</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-JSX data-lang=JSX><span style=display:flex><span><span style=color:#78787e>// source/command.js sure looks like React to me!
</span></span></span><span style=display:flex><span><span style=color:#78787e></span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>import</span> React, {useEffect, useState} from <span style=color:#5af78e>&#39;react&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#ff6ac1>import</span> {Box, Spacer, Text} from <span style=color:#5af78e>&#39;ink&#39;</span>;
</span></span><span style=display:flex><span><span style=color:#ff6ac1>import</span> {spawn} from <span style=color:#5af78e>&#39;child_process&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>export</span> <span style=color:#ff6ac1>const</span> Command <span style=color:#ff6ac1>=</span> ({cmd, active}) =&gt; {
</span></span><span style=display:flex><span>	<span style=color:#ff6ac1>const</span> [summary, setSummary] <span style=color:#ff6ac1>=</span> useState(<span style=color:#5af78e>&#39;&#39;</span>);
</span></span><span style=display:flex><span>	<span style=color:#ff6ac1>const</span> [color, setColor] <span style=color:#ff6ac1>=</span> useState(COLORS.pending);
</span></span><span style=display:flex><span>	<span style=color:#ff6ac1>const</span> [output, setOutput] <span style=color:#ff6ac1>=</span> useState(<span style=color:#ff6ac1>null</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	useEffect(() =&gt; {
</span></span><span style=display:flex><span>		<span style=color:#78787e>// {skipped for brevity, TL;DR: spawn process, handle output etc}
</span></span></span><span style=display:flex><span><span style=color:#78787e></span>	}, [cmd]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#ff6ac1>return</span> (
</span></span><span style=display:flex><span>		&lt;<span style=color:#ff6ac1>Box</span>
</span></span><span style=display:flex><span>			<span style=color:#57c7ff>overflow</span><span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;hidden&#34;</span>
</span></span><span style=display:flex><span>			<span style=color:#57c7ff>flexDirection</span><span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;column&#34;</span> <span style=color:#ff5c57>//</span> <span style=color:#57c7ff>it</span> <span style=color:#57c7ff>even</span> <span style=color:#57c7ff>has</span> <span style=color:#57c7ff>flexbox</span><span style=color:#ff5c57>!</span>
</span></span><span style=display:flex><span>			<span style=color:#57c7ff>width</span><span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;100%&#34;</span>
</span></span><span style=display:flex><span>			<span style=color:#57c7ff>borderStyle</span><span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;bold&#34;</span>
</span></span><span style=display:flex><span>			<span style=color:#57c7ff>borderColor</span><span style=color:#ff6ac1>=</span>{color}
</span></span><span style=display:flex><span>		&gt;
</span></span><span style=display:flex><span>			&lt;<span style=color:#ff6ac1>Box</span>&gt;
</span></span><span style=display:flex><span>				&lt;<span style=color:#ff6ac1>Text</span> <span style=color:#57c7ff>bold</span>&gt;
</span></span><span style=display:flex><span>					{<span style=color:#5af78e>`</span><span style=color:#5af78e>${</span>active <span style=color:#ff6ac1>?</span> <span style=color:#5af78e>&#39;* &#39;</span> <span style=color:#ff6ac1>:</span> <span style=color:#5af78e>&#39;&#39;</span><span style=color:#5af78e>}${</span>cmd<span style=color:#5af78e>}</span><span style=color:#5af78e>`</span>}
</span></span><span style=display:flex><span>					{<span style=color:#ff6ac1>!</span>active <span style=color:#ff6ac1>&amp;&amp;</span> output<span style=color:#ff6ac1>?</span>.length <span style=color:#ff6ac1>&gt;</span> <span style=color:#ff9f43>1</span> <span style=color:#ff6ac1>&amp;&amp;</span> &lt;<span style=color:#ff6ac1>Text</span> <span style=color:#57c7ff>dimColor</span>&gt; (...)&lt;/<span style=color:#ff6ac1>Text</span>&gt;}
</span></span><span style=display:flex><span>				&lt;/<span style=color:#ff6ac1>Text</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>				&lt;<span style=color:#ff6ac1>Spacer</span> /&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>				&lt;<span style=color:#ff6ac1>Text</span> <span style=color:#57c7ff>color</span><span style=color:#ff6ac1>=</span>{color}&gt;{summary}&lt;/<span style=color:#ff6ac1>Text</span>&gt;
</span></span><span style=display:flex><span>			&lt;/<span style=color:#ff6ac1>Box</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>			{active <span style=color:#ff6ac1>&amp;&amp;</span> output<span style=color:#ff6ac1>?</span>.length <span style=color:#ff6ac1>&gt;</span> <span style=color:#ff9f43>1</span> <span style=color:#ff6ac1>&amp;&amp;</span> (
</span></span><span style=display:flex><span>				&lt;<span style=color:#ff6ac1>Box</span> <span style=color:#57c7ff>marginTop</span><span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;1&#34;</span> <span style=color:#57c7ff>overflow</span><span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;hidden&#34;</span>&gt;
</span></span><span style=display:flex><span>					&lt;<span style=color:#ff6ac1>Text</span> <span style=color:#57c7ff>overflow</span><span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;hidden&#34;</span> <span style=color:#57c7ff>wrap</span><span style=color:#ff6ac1>=</span><span style=color:#5af78e>&#34;truncate&#34;</span>&gt;
</span></span><span style=display:flex><span>						{output.toString().trim()}
</span></span><span style=display:flex><span>					&lt;/<span style=color:#ff6ac1>Text</span>&gt;
</span></span><span style=display:flex><span>				&lt;/<span style=color:#ff6ac1>Box</span>&gt;
</span></span><span style=display:flex><span>			)}
</span></span><span style=display:flex><span>		&lt;/<span style=color:#ff6ac1>Box</span>&gt;
</span></span><span style=display:flex><span>	);
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><p>It&rsquo;s not fair make comparisons before I&rsquo;ve at least tried Mason, but I can say straight away that ink is super smooth. Also, NPM is a <em>very</em> efficient means to publish CLI tools. You&rsquo;re basically done before even starting. I might even use NPM to publish the Kotlin/Compose version of this app as well, that&rsquo;s how smooth the ecosystem is. (Yes, it&rsquo;s perfectly fine to publish non-JavaScript binaries, as demonstrated with <a href=/posts/create-elm-live-app/#the-simplest-possible-solution-that-actually-works>create-elm-live-app</a>.)</p><p>Stay tuned for part two: <code>doevenmorestuff</code>, starring Kotlin, Compose and Mason! Coming soon.</p></div><footer></footer></article></section></div><style>form{display:flex;justify-content:center}</style><form action="https://api.follow.it/subscription-form/SDRVMUk2VmsySENBNk94RDNKNDFnS3NmWlQ5a3gxejNIeUlJWHl3QjdqNnRHdENkaXp5aXZhZlFvcGtzcEZ3K0o5TFVRdSt2WWM5RWRsWmZwWVhNUS9PZjJqMWZ3aHBwZUhjT1ZpWXBGRkdZOWtIcGhYQkJkSkE4QTQ1eHl5YkF8RTZHTExQOWFrN1pFY1F0RzZ5c3pVN2I1QTI1YXNtMjZiYllLU25zQkJ3bz0=/8" method=post onsubmit=onSubscribe()><input type=email name=email required placeholder=Email spellcheck=false style="padding:1rem;border:none;border-radius:1rem 0 0 1rem;outline:none">
<button type=submit style="border:none;border-radius:0 1rem 1rem 0;outline:none;background:rgba(127,127,127,5%);cursor:pointer">
Subscribe</button></form><div id=elm-widget></div><script src=/widget.js></script><script>Elm.Main.init({node:document.getElementById("elm-widget"),flags:window.location.pathname})</script><script type=text/javascript src="https://platform-api.sharethis.com/js/sharethis.js#property=6834b86198608700128c9ffa&product=sticky-share-buttons" async></script><footer class=footer><section class=container>Â© 2021 - 2025 Christian Ekrem
<script data-name=BMC-Widget data-cfasync=false src=https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js data-emoji=ðŸº data-id=cekrem data-description="Support me on Buy me a coffee!" data-message data-color=#ddd data-position=Left data-x_margin=18 data-y_margin=18></script></section><script src=https://formspree.io/js/formbutton-v1.min.js defer></script></footer><script src=https://sdk.feedback.one/v0/core.min.js data-project-id=019589e0-c6fb-7b80-b6ae-dffbfbb11f72 defer></script><script>!function(e,t){var n,s,o,i;t.__SV||window.posthog&&window.posthog.__loaded||(window.posthog=t,t._i=[],t.init=function(a,r,c){function d(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}(n=e.createElement("script")).type="text/javascript",n.crossOrigin="anonymous",n.async=!0,n.src=r.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(i=e.getElementsByTagName("script")[0]).parentNode.insertBefore(n,i);var l=t;for(0[0]!==c?l=t[c]=[]:c="posthog",l.people=l.people||[],l.toString=function(e){var t="posthog";return"posthog"!==c&&(t+="."+c),e||(t+=" (stub)"),t},l.people.toString=function(){return l.toString(1)+".people (stub)"},o="init Rr Mr fi Or Ar ci Tr Cr capture Mi calculateEventProperties Lr register register_once register_for_session unregister unregister_for_session Hr getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSurveysLoaded onSessionId getSurveys getActiveMatchingSurveys renderSurvey displaySurvey canRenderSurvey canRenderSurveyAsync identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty Ur jr createPersonProfile zr kr Br opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing get_explicit_consent_status is_capturing clear_opt_in_out_capturing Dr debug M Nr getPageViewId captureTraceFeedback captureTraceMetric $r".split(" "),s=0;s<o.length;s++)d(l,o[s]);t._i.push([a,r,c])},t.__SV=1)}(document,window.posthog||[]),posthog.init("phc_AHy7NSMntJJLr0hUSCwdUS1eRq6SaEqacK1Mzzf36ED",{api_host:"https://eu.i.posthog.com",defaults:"2025-05-24",person_profiles:"identified_only"});function onSubscribe(){posthog.capture("new subscriber")}</script></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script><script data-goatcounter=https://cekrem.goatcounter.com/count async src=//gc.zgo.at/count.js></script></body></html>