<!doctype html><html lang=en><head><title>Starting Small with Elm: A Widget Approach · cekrem.github.io</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Christian Ekrem"><meta name=description content="How to introduce Elm incrementally into your existing web applications with a real-world example"><meta name=keywords content="developer,personal"><meta name=fediverse:creator content><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://cekrem.github.io/images/featured-with-margins.png"><meta name=twitter:title content="Starting Small with Elm: A Widget Approach"><meta name=twitter:description content="How to introduce Elm incrementally into your existing web applications with a real-world example"><meta property="og:url" content="https://cekrem.github.io/posts/starting-small-with-elm-a-widget-approach/"><meta property="og:site_name" content="cekrem.github.io"><meta property="og:title" content="Starting Small with Elm: A Widget Approach"><meta property="og:description" content="How to introduce Elm incrementally into your existing web applications with a real-world example"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-06-03T00:00:00+00:00"><meta property="article:modified_time" content="2025-06-03T00:00:00+00:00"><meta property="article:tag" content="Elm"><meta property="article:tag" content="Frontend"><meta property="article:tag" content="Functional Programming"><meta property="article:tag" content="Architecture"><meta property="article:tag" content="Hugo"><meta property="article:tag" content="Incremental Adoption"><meta property="og:image" content="https://cekrem.github.io/images/featured-with-margins.png"><link rel=canonical href=https://cekrem.github.io/posts/starting-small-with-elm-a-widget-approach/><link rel=preload href=/fonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.68f223388cb4e4100cebdf9e19427ffc94855508d0e5bdad30d0ebbc8d3c516c.css integrity="sha256-aPIjOIy05BAM69+eGUJ//JSFVQjQ5b2tMNDrvI08UWw=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/images/favicon.svg sizes=any><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-light"><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=https://cekrem.github.io/>cekrem.github.io
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa-solid fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/hire/>Hire me?</a></li><li class=navigation-item><a class=navigation-link href=/about/>About</a></li><li class=navigation-item><a class=navigation-link href=/posts/books-i-think-software-engineers-should-read>Recommended Books</a></li><li class=navigation-item><a class=navigation-link href=https://creators.spotify.com/pod/show/disippel>Podcast (🇳🇴)</a></li><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://cekrem.github.io/posts/starting-small-with-elm-a-widget-approach/>Starting Small with Elm: A Widget Approach</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa-solid fa-calendar" aria-hidden=true></i>
<time datetime=2025-06-03T00:00:00Z>June 3, 2025
</time></span><span class=reading-time><i class="fa-solid fa-clock" aria-hidden=true></i>
11-minute read</span></div><div class=tags><i class="fa-solid fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/elm/>Elm</a>
</span><span class=separator>•</span>
<span class=tag><a href=/tags/frontend/>Frontend</a>
</span><span class=separator>•</span>
<span class=tag><a href=/tags/functional-programming/>Functional Programming</a>
</span><span class=separator>•</span>
<span class=tag><a href=/tags/architecture/>Architecture</a>
</span><span class=separator>•</span>
<span class=tag><a href=/tags/hugo/>Hugo</a>
</span><span class=separator>•</span>
<span class=tag><a href=/tags/incremental-adoption/>Incremental Adoption</a></span></div></div></header><div class=post-content><p>It&rsquo;s awesome to learn Elm by building a side project, you absolutely should. And maybe you have – perhaps you&rsquo;ve built a todo app, explored The Elm Architecture, and fallen in love with the reliability and maintainability that comes with functional programming and strong types.</p><p>But come Monday morning, you&rsquo;re back to wrestling with JavaScript bugs, runtime errors, and the nagging feeling that there has to be a better way. The problem isn&rsquo;t that Elm isn&rsquo;t ready for production work – it absolutely is. The problem is convincing your team, your boss, or your organization to take the leap. And when you&rsquo;re thinking about wholesale replacement, your boss&rsquo;s skepticism might be quite healthy. But here&rsquo;s the thing: if you reduce the scope, you can also reduce the risk and buy-in required. Instead of &ldquo;let&rsquo;s rebuild our entire app in Elm,&rdquo; what if the conversation was &ldquo;let&rsquo;s try Elm for this one small widget&rdquo;? Suddenly, the stakes drop dramatically.</p><blockquote><p>Companies that use Elm in production usually start with a single component. So if you want to use Elm at work, start with a small experiment. Do people think it is nice? Do more! Do people think it sucks? Do less!</p><p>– Jason O&rsquo;Neil, author of <a href=https://github.com/cultureamp/react-elm-components class=external-link target=_blank rel=noopener>react-elm-components</a></p></blockquote><p>This is exactly what I did on this very blog, as a proof of concept. While my site is built with Hugo (a Go-based static site generator), I&rsquo;ve successfully integrated an Elm-powered testimonials carousel that fetches data, manages state, and provides smooth interactions. Let me show you how starting small can turn employer skepticism into genuine enthusiasm.</p><h2 id=the-case-for-incremental-adoption>The Case for Incremental Adoption
<a class=heading-link href=#the-case-for-incremental-adoption><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>The <a href=https://elm-lang.org/news/how-to-use-elm-at-work class=external-link target=_blank rel=noopener>official Elm guide on using Elm at work</a> makes a compelling case for incremental adoption, but let&rsquo;s be honest – it can be hard to visualize what this looks like in practice. Most examples are either too simple (a counter) or too abstract (theoretical architecture diagrams).</p><p>What you need is a real example that shows:</p><ol><li><strong>Minimal integration</strong> – How to embed Elm without disrupting your existing setup</li><li><strong>Practical scope</strong> – A widget complex enough to be useful but small enough to be manageable</li><li><strong>Clear boundaries</strong> – How to handle data flow between Elm and your host application</li><li><strong>Gradual migration</strong> – How this approach sets you up for future expansion</li></ol><h2 id=meet-my-testimonials-widget>Meet My Testimonials Widget
<a class=heading-link href=#meet-my-testimonials-widget><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>Before diving into the implementation, let me show you what we&rsquo;re building. On the home page of this blog (if you&rsquo;re on a wide screen), you&rsquo;ll see a testimonials carousel powered entirely by Elm. I also added it to this very page, so you won&rsquo;t have to stop your reading to check it out. This small widget</p><ul><li>Fetches testimonial data from a JSON endpoint</li><li>Displays testimonials in a responsive carousel format</li><li>Handles navigation with smooth transitions</li><li>Only renders on specific pages and screen sizes</li><li>Integrates seamlessly with the existing Hugo-generated markup</li></ul><p>The widget replaces what used to be an embedded iframe – a perfect example of incremental improvement rather than a full rewrite.</p><h2 id=the-widget-first-architecture>The Widget-First Architecture
<a class=heading-link href=#the-widget-first-architecture><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>Here&rsquo;s how the integration works at a high level:</p><div class=highlight><pre tabindex=0 style=color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#93a1a1;font-style:italic>&lt;!-- In your Hugo template (layouts/partials/footer.html) --&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#268bd2;font-weight:700>div</span> <span style=color:#268bd2>id</span>=<span style=color:#2aa198>&#34;elm-widget&#34;</span>&gt;&lt;/<span style=color:#268bd2;font-weight:700>div</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#268bd2;font-weight:700>script</span> <span style=color:#268bd2>src</span>=<span style=color:#2aa198>&#34;/widget.js&#34;</span>&gt;&lt;/<span style=color:#268bd2;font-weight:700>script</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#268bd2;font-weight:700>script</span>&gt;
</span></span><span style=display:flex><span>  <span style=color:#268bd2>Elm</span>.<span style=color:#268bd2>Main</span>.<span style=color:#268bd2>init</span>({
</span></span><span style=display:flex><span>    <span style=color:#268bd2>node</span>: <span style=color:#cb4b16>document</span>.<span style=color:#268bd2>getElementById</span>(<span style=color:#2aa198>&#34;elm-widget&#34;</span>),
</span></span><span style=display:flex><span>    <span style=color:#268bd2>flags</span>: <span style=color:#cb4b16>window</span>.<span style=color:#268bd2>location</span>.<span style=color:#268bd2>pathname</span>, <span style=color:#93a1a1;font-style:italic>// passing in pathname to allow routing
</span></span></span><span style=display:flex><span><span style=color:#93a1a1;font-style:italic></span>  });
</span></span><span style=display:flex><span>&lt;/<span style=color:#268bd2;font-weight:700>script</span>&gt;
</span></span></code></pre></div><p>The beauty of this approach is its simplicity. Your host application (Hugo, in my case) just needs to:</p><ol><li>Provide a DOM element for Elm to mount to</li><li>Compile and include the Elm JavaScript output</li><li>Initialize the Elm application with any required data (the pathname in this example, because I only show the carousel on certain paths)</li></ol><p>That&rsquo;s it. No complex build system integration, no framework-specific adapters, no architectural rewrites.</p><h2 id=the-elm-implementation>The Elm Implementation
<a class=heading-link href=#the-elm-implementation><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>Let&rsquo;s examine the actual Elm code that powers this widget. The main application is surprisingly simple:</p><div class=highlight><pre tabindex=0 style=color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elm data-lang=elm><span style=display:flex><span><span style=color:#dc322f;font-weight:700>module </span><span style=color:#cb4b16>Main</span> <span style=color:#268bd2>exposing</span> <span style=color:#268bd2>(..)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#dc322f;font-weight:700>import </span><span style=color:#cb4b16>Browser</span>
</span></span><span style=display:flex><span><span style=color:#dc322f;font-weight:700>import </span><span style=color:#cb4b16>Html</span> <span style=color:#268bd2>exposing</span> <span style=color:#268bd2>(..)</span>
</span></span><span style=display:flex><span><span style=color:#dc322f;font-weight:700>import </span><span style=color:#cb4b16>Testemonials</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#859900>main </span><span style=color:#268bd2>:</span> <span style=color:#859900;font-weight:700>Program</span> <span style=color:#859900;font-weight:700>String</span> <span style=color:#859900;font-weight:700>Model</span> <span style=color:#859900;font-weight:700>Msg</span>
</span></span><span style=display:flex><span><span style=color:#859900>main </span><span style=color:#268bd2>=</span>
</span></span><span style=display:flex><span>    <span style=color:#93a1a1;font-style:italic>{-| I&#39;m using Browser.element instead of Browser.application to control
</span></span></span><span style=display:flex><span><span style=color:#93a1a1;font-style:italic>        only _part_ of the DOM with Elm. Browser.sandbox would also often suffice, but
</span></span></span><span style=display:flex><span><span style=color:#93a1a1;font-style:italic>        it doesn&#39;t support HTTP requests. -}</span>
</span></span><span style=display:flex><span>    <span style=color:#859900;font-weight:700>Browser</span><span style=color:#268bd2>.</span><span style=color:#268bd2>element</span>
</span></span><span style=display:flex><span>        { <span style=color:#268bd2>init</span> <span style=color:#268bd2>=</span> <span style=color:#268bd2>init</span>
</span></span><span style=display:flex><span>        , <span style=color:#268bd2>update</span> <span style=color:#268bd2>=</span> <span style=color:#268bd2>update</span>
</span></span><span style=display:flex><span>        , <span style=color:#268bd2>subscriptions</span> <span style=color:#268bd2>=</span> <span style=color:#268bd2>subscriptions</span>
</span></span><span style=display:flex><span>        , <span style=color:#268bd2>view</span> <span style=color:#268bd2>=</span> <span style=color:#268bd2>view</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#93a1a1;font-style:italic>{-| For now I either render Testemonials (the carousel) or nothing,
</span></span></span><span style=display:flex><span><span style=color:#93a1a1;font-style:italic>but this could easily grow to view other things on other routes.
</span></span></span><span style=display:flex><span><span style=color:#93a1a1;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#93a1a1;font-style:italic>Perhaps the &#34;Subscribe&#34; input/form could be Elm?
</span></span></span><span style=display:flex><span><span style=color:#93a1a1;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#93a1a1;font-style:italic>-}</span>
</span></span><span style=display:flex><span><span style=color:#859900>type</span> <span style=color:#859900;font-weight:700>Model</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>=</span> <span style=color:#859900;font-weight:700>Testemonials</span> <span style=color:#859900;font-weight:700>Testemonials</span><span style=color:#268bd2>.</span><span style=color:#859900;font-weight:700>Model</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>|</span> <span style=color:#859900;font-weight:700>None</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#268bd2>init</span> <span style=color:#268bd2>:</span> <span style=color:#859900;font-weight:700>String</span> <span style=color:#268bd2>-&gt;</span> ( <span style=color:#859900;font-weight:700>Model</span>, <span style=color:#859900;font-weight:700>Cmd</span> <span style=color:#859900;font-weight:700>Msg</span> )
</span></span><span style=display:flex><span><span style=color:#268bd2>init</span> <span style=color:#268bd2>path</span> <span style=color:#268bd2>=</span>
</span></span><span style=display:flex><span>    <span style=color:#93a1a1;font-style:italic>-- in effect: show testemonials for &#34;/&#34; and &#34;/hire&#34; routes, and for this very post</span>
</span></span><span style=display:flex><span>    <span style=color:#859900>if</span> <span style=color:#859900;font-weight:700>Testemonials</span><span style=color:#268bd2>.</span><span style=color:#268bd2>showForPath</span> <span style=color:#268bd2>path</span> <span style=color:#859900>then</span>
</span></span><span style=display:flex><span>        <span style=color:#859900;font-weight:700>Testemonials</span><span style=color:#268bd2>.</span><span style=color:#268bd2>init</span> ()
</span></span><span style=display:flex><span>            <span style=color:#93a1a1;font-style:italic>-- Map the Testemonials specific model and commands to match the Main ones</span>
</span></span><span style=display:flex><span>            <span style=color:#268bd2>|&gt;</span> <span style=color:#859900;font-weight:700>Tuple</span><span style=color:#268bd2>.</span><span style=color:#268bd2>mapBoth</span> <span style=color:#859900;font-weight:700>Testemonials</span> (<span style=color:#859900;font-weight:700>Cmd</span><span style=color:#268bd2>.</span><span style=color:#268bd2>map</span> <span style=color:#859900;font-weight:700>TestemonialsMsg</span>)
</span></span><span style=display:flex><span>    <span style=color:#859900>else</span>
</span></span><span style=display:flex><span>        ( <span style=color:#859900;font-weight:700>None</span>, <span style=color:#859900;font-weight:700>Cmd</span><span style=color:#268bd2>.</span><span style=color:#268bd2>none</span> )
</span></span></code></pre></div><p>The key insight here is that our main module acts as a super-simple <strong>router</strong> that decides whether to show the testimonials widget based on the current path. This pattern scales beautifully – as you add more Elm widgets, you can expand this router to handle multiple components.</p><h2 id=the-testimonials-module>The Testimonials Module
<a class=heading-link href=#the-testimonials-module><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>The actual testimonials functionality lives in a separate module:</p><div class=highlight><pre tabindex=0 style=color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elm data-lang=elm><span style=display:flex><span><span style=color:#dc322f;font-weight:700>module </span><span style=color:#cb4b16>Testemonials</span> <span style=color:#268bd2>exposing</span> (<span style=color:#859900;font-weight:700>Model</span>, <span style=color:#859900;font-weight:700>Msg</span>, <span style=color:#268bd2>init</span>, <span style=color:#268bd2>showForPath</span>, <span style=color:#268bd2>update</span>, <span style=color:#268bd2>view</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#859900>type</span> <span style=color:#859900;font-weight:700>Model</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>=</span> <span style=color:#859900;font-weight:700>Failure</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>|</span> <span style=color:#859900;font-weight:700>Loading</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>|</span> <span style=color:#859900;font-weight:700>Success</span> (<span style=color:#859900;font-weight:700>List</span> <span style=color:#859900;font-weight:700>Testemonial</span>) <span style=color:#859900;font-weight:700>Int</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#268bd2>init</span> <span style=color:#268bd2>:</span> () <span style=color:#268bd2>-&gt;</span> ( <span style=color:#859900;font-weight:700>Model</span>, <span style=color:#859900;font-weight:700>Cmd</span> <span style=color:#859900;font-weight:700>Msg</span> )
</span></span><span style=display:flex><span><span style=color:#268bd2>init</span> () <span style=color:#268bd2>=</span>
</span></span><span style=display:flex><span>    ( <span style=color:#859900;font-weight:700>Loading</span>, <span style=color:#268bd2>getTestemonials</span> )
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#268bd2>activePaths</span> <span style=color:#268bd2>:</span> <span style=color:#859900;font-weight:700>Set</span><span style=color:#268bd2>.</span><span style=color:#859900;font-weight:700>Set</span> <span style=color:#859900;font-weight:700>String</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>activePaths</span> <span style=color:#268bd2>=</span>
</span></span><span style=display:flex><span>    <span style=color:#859900;font-weight:700>Set</span><span style=color:#268bd2>.</span><span style=color:#268bd2>fromList</span> [ <span style=color:#2aa198>&#34;&#34;</span>, <span style=color:#2aa198>&#34;/&#34;</span>, <span style=color:#2aa198>&#34;/hire&#34;</span>, <span style=color:#2aa198>&#34;/posts/starting-small-with-elm-a-widget-approach&#34;</span> ]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#268bd2>showForPath</span> <span style=color:#268bd2>:</span> <span style=color:#859900;font-weight:700>String</span> <span style=color:#268bd2>-&gt;</span> <span style=color:#859900;font-weight:700>Bool</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>showForPath</span> <span style=color:#268bd2>path</span> <span style=color:#268bd2>=</span>
</span></span><span style=display:flex><span>    <span style=color:#268bd2>activePaths</span> <span style=color:#268bd2>|&gt;</span> <span style=color:#859900;font-weight:700>Set</span><span style=color:#268bd2>.</span><span style=color:#268bd2>member</span> <span style=color:#268bd2>path</span>
</span></span></code></pre></div><p>This demonstrates several important patterns:</p><ol><li><strong>Clear state modeling</strong> – The <code>Model</code> type explicitly represents the three possible states: loading, error, or success with data</li><li><strong>Configuration-driven behavior</strong> – Which pages show testimonials is controlled by data (path in this instance), not scattered conditionals</li><li><strong>Pure functions</strong> – The <code>showForPath</code> function is completely predictable and testable</li><li><strong>Separated concerns</strong> – Data fetching, state management, and rendering are cleanly separated</li></ol><h2 id=migrating-testemonials-data>Migrating testemonials data?
<a class=heading-link href=#migrating-testemonials-data><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>Like I said, I used to have that iframe (from [(https://testemonials.to)]), and while I&rsquo;m definitely ditching that I&rsquo;d like to keep the data I&rsquo;ve collected. This is literally how I migrated: I <code>document.querySelector</code>ed the element containing all existing testemonials the and sent the <code>innerHTML</code> to GPT-4o with instructions to make pretty JSON matching my Elm model. Simple as that. See, I&rsquo;m not against Automating The Boring Stuff (the actual name of my last AI-related talk @ Ensō), I just <a href=https://cekrem.github.io/posts/coding-as-craft-going-back-to-the-old-gym/ class=external-link target=_blank rel=noopener>hate letting LLMs have all the fun of the actual coding</a>.</p><h2 id=handling-data-and-http>Handling Data and HTTP
<a class=heading-link href=#handling-data-and-http><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>One of Elm&rsquo;s many strengths is how it handles side effects like HTTP requests (<code>ports</code> in another way Elm deals with the outside world, read more about that <a href=https://cekrem.github.io/posts/a-case-for-port-boundaries-in-frontend/ class=external-link target=_blank rel=noopener>here</a>). Anyway, here&rsquo;s how the testimonials widget fetches data:</p><div class=highlight><pre tabindex=0 style=color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elm data-lang=elm><span style=display:flex><span><span style=color:#268bd2>getTestemonials</span> <span style=color:#268bd2>:</span> <span style=color:#859900;font-weight:700>Cmd</span> <span style=color:#859900;font-weight:700>Msg</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>getTestemonials</span> <span style=color:#268bd2>=</span>
</span></span><span style=display:flex><span>    <span style=color:#859900;font-weight:700>Http</span><span style=color:#268bd2>.</span><span style=color:#268bd2>get</span>
</span></span><span style=display:flex><span>        { <span style=color:#268bd2>url</span> <span style=color:#268bd2>=</span> <span style=color:#2aa198>&#34;/testemonials.json&#34;</span>
</span></span><span style=display:flex><span>        , <span style=color:#268bd2>expect</span> <span style=color:#268bd2>=</span> <span style=color:#859900;font-weight:700>Http</span><span style=color:#268bd2>.</span><span style=color:#268bd2>expectJson</span> <span style=color:#859900;font-weight:700>GotTestemonials</span> <span style=color:#268bd2>testemonialsDecoder</span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#268bd2>update</span> <span style=color:#268bd2>:</span> <span style=color:#859900;font-weight:700>Msg</span> <span style=color:#268bd2>-&gt;</span> <span style=color:#859900;font-weight:700>Model</span> <span style=color:#268bd2>-&gt;</span> ( <span style=color:#859900;font-weight:700>Model</span>, <span style=color:#859900;font-weight:700>Cmd</span> <span style=color:#859900;font-weight:700>Msg</span> )
</span></span><span style=display:flex><span><span style=color:#268bd2>update</span> <span style=color:#268bd2>msg</span> <span style=color:#268bd2>model</span> <span style=color:#268bd2>=</span>
</span></span><span style=display:flex><span>    <span style=color:#859900>case</span> ( <span style=color:#268bd2>model</span>, <span style=color:#268bd2>msg</span> ) <span style=color:#859900>of</span>
</span></span><span style=display:flex><span>        ( <span style=color:#268bd2>_</span>, <span style=color:#859900;font-weight:700>GotTestemonials</span> (<span style=color:#859900;font-weight:700>Ok</span> <span style=color:#268bd2>testemonials</span>) ) <span style=color:#268bd2>-&gt;</span>
</span></span><span style=display:flex><span>            ( <span style=color:#859900;font-weight:700>Success</span> <span style=color:#268bd2>testemonials</span> <span style=color:#2aa198;font-weight:700>0</span>, <span style=color:#859900;font-weight:700>Cmnd</span><span style=color:#268bd2>.</span><span style=color:#268bd2>none</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        ( <span style=color:#268bd2>_</span>, <span style=color:#859900;font-weight:700>GotTestemonials</span> (<span style=color:#859900;font-weight:700>Err</span> <span style=color:#268bd2>_</span>) ) <span style=color:#268bd2>-&gt;</span>
</span></span><span style=display:flex><span>            ( <span style=color:#859900;font-weight:700>Failure</span>, <span style=color:#859900;font-weight:700>Cmd</span><span style=color:#268bd2>.</span><span style=color:#268bd2>none</span> )
</span></span></code></pre></div><p>Compare this to typical JavaScript approaches:</p><ul><li><strong>No promise chains or async/await complexity</strong> – Commands are values that describe what you want to do</li><li><strong>Explicit error handling</strong> – The <code>Result</code> type forces you to handle both success and failure cases</li><li><strong>No runtime errors</strong> – If it compiles, the HTTP handling will work as expected</li><li><strong>Testable</strong> – You can test your update function by passing it messages directly</li></ul><h2 id=styling-without-conflicts>Styling Without Conflicts
<a class=heading-link href=#styling-without-conflicts><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>One challenge with widget-based approaches is styling conflicts. Since this Elm widget lives inside a Hugo site with its own CSS, I needed to avoid dependencies on external stylesheets. The solution? Inline styles with careful encapsulation. Granted, I <em>have</em> started down the rabbit hole of changing the overall styling of this blog, as you may have noticed, but to keep this example clear I gave myself the restraint of not depending on any (subject-to-change!) existing classes:</p><div class=highlight><pre tabindex=0 style=color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elm data-lang=elm><span style=display:flex><span><span style=color:#268bd2>testemonialEntry</span> <span style=color:#268bd2>:</span> <span style=color:#859900;font-weight:700>Bool</span> <span style=color:#268bd2>-&gt;</span> <span style=color:#859900;font-weight:700>Testemonial</span> <span style=color:#268bd2>-&gt;</span> <span style=color:#859900;font-weight:700>Html</span> <span style=color:#859900;font-weight:700>Msg</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>testemonialEntry</span> <span style=color:#268bd2>visible</span> <span style=color:#268bd2>testemonial</span> <span style=color:#268bd2>=</span>
</span></span><span style=display:flex><span>    <span style=color:#859900>let</span>
</span></span><span style=display:flex><span>        <span style=color:#268bd2>conditionalStyles</span> <span style=color:#268bd2>=</span> <span style=color:#93a1a1;font-style:italic>{- implementation details -}</span>
</span></span><span style=display:flex><span>    <span style=color:#859900>in</span>
</span></span><span style=display:flex><span>    <span style=color:#859900;font-weight:700>Html</span><span style=color:#268bd2>.</span><span style=color:#268bd2>div</span>
</span></span><span style=display:flex><span>        ([ <span style=color:#859900;font-weight:700>Attributes</span><span style=color:#268bd2>.</span><span style=color:#268bd2>style</span> <span style=color:#2aa198>&#34;transition-property&#34;</span> <span style=color:#2aa198>&#34;all&#34;</span>
</span></span><span style=display:flex><span>         , <span style=color:#859900;font-weight:700>Attributes</span><span style=color:#268bd2>.</span><span style=color:#268bd2>style</span> <span style=color:#2aa198>&#34;transition-timing-function&#34;</span> <span style=color:#2aa198>&#34;ease-out&#34;</span>
</span></span><span style=display:flex><span>         , <span style=color:#859900;font-weight:700>Attributes</span><span style=color:#268bd2>.</span><span style=color:#268bd2>style</span> <span style=color:#2aa198>&#34;transition-duration&#34;</span> <span style=color:#2aa198>&#34;0.4s&#34;</span>
</span></span><span style=display:flex><span>         , <span style=color:#859900;font-weight:700>Attributes</span><span style=color:#268bd2>.</span><span style=color:#268bd2>style</span> <span style=color:#2aa198>&#34;border-radius&#34;</span> <span style=color:#2aa198>&#34;2rem&#34;</span>
</span></span><span style=display:flex><span>         , <span style=color:#859900;font-weight:700>Attributes</span><span style=color:#268bd2>.</span><span style=color:#268bd2>style</span> <span style=color:#2aa198>&#34;background&#34;</span> <span style=color:#2aa198>&#34;rgba(127,127,127,0.1)&#34;</span>
</span></span><span style=display:flex><span>         <span style=color:#93a1a1;font-style:italic>-- ... more styles</span>
</span></span><span style=display:flex><span>         ]
</span></span><span style=display:flex><span>            <span style=color:#268bd2>++</span> <span style=color:#268bd2>conditionalStyles</span>
</span></span><span style=display:flex><span>        )
</span></span><span style=display:flex><span>        [ <span style=color:#93a1a1;font-style:italic>-- content ]</span>
</span></span></code></pre></div><p>While not as clean as using a CSS framework, this approach guarantees that the widget won&rsquo;t break the host application&rsquo;s styles (or vice versa). As you grow your Elm usage, you can migrate to more sophisticated styling solutions. If my blog theme were built on Tailwind, this would all be a pretty one-liner, though&mldr; 🤤</p><p>Doh&mldr;</p><h2 id=responsive-behavior>Responsive Behavior
<a class=heading-link href=#responsive-behavior><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>A fun challenge when commiting to <em>not</em> relying on external CSS is hiding/showing based on screen size. Rather than relying on CSS media queries, my beloved widget uses a CSS <code>clamp()</code> function to hide the entire widget on smaller screens.</p><p>I bet you haven&rsquo;t seen one of these in the wild, and I don&rsquo;t really think you should try the following at home either:</p><div class=highlight><pre tabindex=0 style=color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elm data-lang=elm><span style=display:flex><span><span style=color:#268bd2>hideOnBreakpoint</span> <span style=color:#268bd2>:</span> <span style=color:#859900;font-weight:700>String</span> <span style=color:#268bd2>-&gt;</span> <span style=color:#859900;font-weight:700>Html</span> <span style=color:#268bd2>msg</span> <span style=color:#268bd2>-&gt;</span> <span style=color:#859900;font-weight:700>Html</span> <span style=color:#268bd2>msg</span>
</span></span><span style=display:flex><span><span style=color:#268bd2>hideOnBreakpoint</span> <span style=color:#268bd2>breakpoint</span> <span style=color:#268bd2>content</span> <span style=color:#268bd2>=</span>
</span></span><span style=display:flex><span>    <span style=color:#859900>let</span>
</span></span><span style=display:flex><span>        <span style=color:#268bd2>clampStyle</span> <span style=color:#268bd2>=</span>
</span></span><span style=display:flex><span>            <span style=color:#2aa198>&#34;clamp(10px, calc((100vw - &#34;</span> <span style=color:#268bd2>++</span> <span style=color:#268bd2>breakpoint</span> <span style=color:#268bd2>++</span> <span style=color:#2aa198>&#34;) * 1000), 10000px)&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#859900>in</span>
</span></span><span style=display:flex><span>    <span style=color:#859900;font-weight:700>Html</span><span style=color:#268bd2>.</span><span style=color:#268bd2>div</span>
</span></span><span style=display:flex><span>        [ <span style=color:#859900;font-weight:700>Attributes</span><span style=color:#268bd2>.</span><span style=color:#268bd2>style</span> <span style=color:#2aa198>&#34;max-width&#34;</span> <span style=color:#268bd2>clampStyle</span>
</span></span><span style=display:flex><span>        , <span style=color:#859900;font-weight:700>Attributes</span><span style=color:#268bd2>.</span><span style=color:#268bd2>style</span> <span style=color:#2aa198>&#34;max-height&#34;</span> <span style=color:#268bd2>clampStyle</span>
</span></span><span style=display:flex><span>        , <span style=color:#859900;font-weight:700>Attributes</span><span style=color:#268bd2>.</span><span style=color:#268bd2>style</span> <span style=color:#2aa198>&#34;overflow&#34;</span> <span style=color:#2aa198>&#34;hidden&#34;</span>
</span></span><span style=display:flex><span>        ]
</span></span><span style=display:flex><span>        [ <span style=color:#268bd2>content</span> ]
</span></span><span style=display:flex><span>    <span style=color:#93a1a1;font-style:italic>-- And then you simply pipe your content like this `|&gt; hideOnBreakpoint 600px`</span>
</span></span></code></pre></div><p>This might look hacky, <del>but it&rsquo;s actually quite elegant – the widget completely disappears below 600px width, which is exactly what I wanted for this use case</del> and it really is. ¯\<em>(ツ)</em>/¯</p><h2 id=the-build-pipeline>The Build Pipeline
<a class=heading-link href=#the-build-pipeline><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>Getting Elm integrated into an existing build pipeline is surprisingly straightforward. In my case, I added these simple npm scripts:</p><div class=highlight><pre tabindex=0 style=color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#268bd2;font-weight:700>&#34;scripts&#34;</span>: {
</span></span><span style=display:flex><span>    <span style=color:#268bd2;font-weight:700>&#34;build&#34;</span>: <span style=color:#2aa198>&#34;elm make src/Main.elm  --output=static/widget.js --optimize&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#268bd2;font-weight:700>&#34;start&#34;</span>: <span style=color:#2aa198>&#34;hugo build -D &amp;&amp; concurrently \&#34;http-server ./public\&#34; \&#34;elm-watch hot\&#34;&#34;</span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>For development, <code>elm-watch</code> provides hot reloading. For production, the standard <code>elm make</code> command outputs a single JavaScript file that Hugo copies to the final site. No complex webpack configurations or framework-specific build tools required.</p><p>If you&rsquo;re already using React, you can even use <a href=https://github.com/cultureamp/react-elm-components class=external-link target=_blank rel=noopener>react-elm-components</a> to get a head start!</p><h2 id=why-this-approach-works>Why This Approach Works
<a class=heading-link href=#why-this-approach-works><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>Starting with a small widget like this testimonials carousel provides several advantages:</p><h3 id=1-low-risk>1. <strong>Low Risk</strong>
<a class=heading-link href=#1-low-risk><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p>If the Elm widget breaks, it doesn&rsquo;t take down your entire application. The worst-case scenario is a missing testimonials section – hardly catastrophic.</p><h3 id=2-learning-by-doing>2. <strong>Learning by Doing</strong>
<a class=heading-link href=#2-learning-by-doing><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p>You get hands-on experience with Elm&rsquo;s core concepts (Model-View-Update, commands, subscriptions) in a real-world context without the pressure of migrating critical functionality.</p><h3 id=3-clear-success-metrics>3. <strong>Clear Success Metrics</strong>
<a class=heading-link href=#3-clear-success-metrics><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p>You can easily measure the benefits: Does the widget perform better? Is it more reliable? Is the code easier to understand and modify? The answers become obvious quickly.</p><h3 id=4-foundation-for-growth>4. <strong>Foundation for Growth</strong>
<a class=heading-link href=#4-foundation-for-growth><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h3><p>Once you have the basic integration working, adding more Elm widgets becomes progressively easier. The build pipeline is established, the team understands the patterns, and the confidence is built.</p><h2 id=whats-next>What&rsquo;s Next?
<a class=heading-link href=#whats-next><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>Having successfully integrated one Elm widget, I&rsquo;m already thinking about what could be next. I&rsquo;ve done Markdown rendering in Elm before, perhaps I could use Elm for rendering posts and pages as well? Or perhaps I&rsquo;ll replace the share buttons with something homecooked? Whatever small problem you decide to solve with Elm, I&rsquo;m sure there are other problems equally suited. Speaking of which, <a href=https://elmprogramming.com/function-composition.html class=external-link target=_blank rel=noopener>Elm Programming: Solving Complex Problems with Simple Functions</a> is a <em>great</em> read on that more general topic.</p><p>The beauty of this approach is that each step is optional and reversible. You&rsquo;re not making a bet-the-company decision – you&rsquo;re making small, measured investments that compound over time. And you&rsquo;re learning!</p><h2 id=getting-started-today>Getting Started Today
<a class=heading-link href=#getting-started-today><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>If you want to try this approach in your own application, here&rsquo;s a roadmap:</p><ol><li><strong>Identify a small widget</strong> in your current application that has interesting state management</li><li><strong>Set up a minimal Elm build</strong> that outputs to a single JavaScript file</li><li><strong>Create a simple Elm application</strong> that mounts to a DOM element and accepts flags</li><li><strong>Implement your widget</strong> using The Elm Architecture</li><li><strong>Integrate it</strong> by replacing the existing widget (or even static html or whatever) with your Elm version</li></ol><p>Start small, prove the value, and expand from there.</p><h2 id=conclusion>Conclusion
<a class=heading-link href=#conclusion><i class="fa-solid fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span></a></h2><p>Elm doesn&rsquo;t have to be an all-or-nothing decision. By starting with small, isolated widgets, you can:</p><ul><li>Gain practical experience with functional programming concepts</li><li>Improve specific parts of your application with better reliability and maintainability</li><li>Build team confidence and expertise gradually</li><li>Create a foundation for larger migrations if and when they make sense</li></ul><p>The testimonials widget on this blog is proof that this approach works in practice.</p><p>In the case of Elm, the first small step might just be a single widget.</p><hr><p><em>If you&rsquo;re interested in exploring this approach further, check out the <a href=https://github.com/cekrem/cekrem.github.io/tree/main/src class=external-link target=_blank rel=noopener>complete source code</a> for this blog&rsquo;s Elm widgets. The simplicity might surprise you.</em></p></div><footer></footer></article></section></div><style>form{display:flex;justify-content:center}</style><form action="https://api.follow.it/subscription-form/SDRVMUk2VmsySENBNk94RDNKNDFnS3NmWlQ5a3gxejNIeUlJWHl3QjdqNnRHdENkaXp5aXZhZlFvcGtzcEZ3K0o5TFVRdSt2WWM5RWRsWmZwWVhNUS9PZjJqMWZ3aHBwZUhjT1ZpWXBGRkdZOWtIcGhYQkJkSkE4QTQ1eHl5YkF8RTZHTExQOWFrN1pFY1F0RzZ5c3pVN2I1QTI1YXNtMjZiYllLU25zQkJ3bz0=/8" method=post><input type=email name=email required placeholder=Email spellcheck=false style=padding:1rem;border:none;outline:none>
<button type=submit style=border:none;outline:none;background:#eee;cursor:pointer>
Subscribe</button></form><div id=elm-widget></div><script src=/widget.js></script><script>Elm.Main.init({node:document.getElementById("elm-widget"),flags:window.location.pathname})</script><script type=text/javascript src="https://platform-api.sharethis.com/js/sharethis.js#property=6834b86198608700128c9ffa&product=sticky-share-buttons" async></script><footer class=footer><section class=container>© 2021 - 2025 Christian Ekrem
<script data-name=BMC-Widget data-cfasync=false src=https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js data-emoji=🍺 data-id=cekrem data-description="Support me on Buy me a coffee!" data-message data-color=#ddd data-position=Right data-x_margin=18 data-y_margin=18></script></section><script src=https://formspree.io/js/formbutton-v1.min.js defer></script></footer><script src=https://sdk.feedback.one/v0/core.min.js data-project-id=019589e0-c6fb-7b80-b6ae-dffbfbb11f72 defer></script></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script><script data-goatcounter=https://cekrem.goatcounter.com/count async src=//gc.zgo.at/count.js></script></body></html>