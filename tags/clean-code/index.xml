<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Clean-Code on cekrem.github.io</title><link>https://cekrem.github.io/tags/clean-code/</link><description>Recent content in Clean-Code on cekrem.github.io</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Wed, 07 May 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://cekrem.github.io/tags/clean-code/index.xml" rel="self" type="application/rss+xml"/><item><title>The Psychology of Clean Code: Why We Write Messy React Components</title><link>https://cekrem.github.io/posts/psychology-of-clean-code/</link><pubDate>Wed, 07 May 2025 00:00:00 +0000</pubDate><guid>https://cekrem.github.io/posts/psychology-of-clean-code/</guid><description>&lt;p>We all know we should write clean code. We&amp;rsquo;ve read the books, attended the talks, and nodded along to the principles. Yet, somehow, we still find ourselves writing messy React components. Why is that? The answer lies not in our technical skills, but in our psychology.&lt;/p>
&lt;h2 id="the-cognitive-load-trap">
 The Cognitive Load Trap
 &lt;a class="heading-link" href="#the-cognitive-load-trap">
 &lt;i class="fa-solid fa-link" aria-hidden="true" title="Link to heading">&lt;/i>
 &lt;span class="sr-only">Link to heading&lt;/span>
 &lt;/a>
&lt;/h2>
&lt;p>Consider this common scenario:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-tsx" data-lang="tsx">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#859900">const&lt;/span> &lt;span style="color:#268bd2">UserDashboard&lt;/span> = () =&amp;gt; {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#859900">const&lt;/span> [&lt;span style="color:#268bd2">users&lt;/span>, &lt;span style="color:#268bd2">setUsers&lt;/span>] = &lt;span style="color:#268bd2">useState&lt;/span>([]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#859900">const&lt;/span> [&lt;span style="color:#268bd2">loading&lt;/span>, &lt;span style="color:#268bd2">setLoading&lt;/span>] = &lt;span style="color:#268bd2">useState&lt;/span>(&lt;span style="color:#859900;font-weight:bold">true&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#859900">const&lt;/span> [&lt;span style="color:#268bd2">error&lt;/span>, &lt;span style="color:#268bd2">setError&lt;/span>] = &lt;span style="color:#268bd2">useState&lt;/span>(&lt;span style="color:#859900;font-weight:bold">null&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#859900">const&lt;/span> [&lt;span style="color:#268bd2">filter&lt;/span>, &lt;span style="color:#268bd2">setFilter&lt;/span>] = &lt;span style="color:#268bd2">useState&lt;/span>(&lt;span style="color:#2aa198">&amp;#34;&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#859900">const&lt;/span> [&lt;span style="color:#268bd2">sortBy&lt;/span>, &lt;span style="color:#268bd2">setSortBy&lt;/span>] = &lt;span style="color:#268bd2">useState&lt;/span>(&lt;span style="color:#2aa198">&amp;#34;name&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#859900">const&lt;/span> [&lt;span style="color:#268bd2">page&lt;/span>, &lt;span style="color:#268bd2">setPage&lt;/span>] = &lt;span style="color:#268bd2">useState&lt;/span>(&lt;span style="color:#2aa198;font-weight:bold">1&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#859900">const&lt;/span> [&lt;span style="color:#268bd2">totalPages&lt;/span>, &lt;span style="color:#268bd2">setTotalPages&lt;/span>] = &lt;span style="color:#268bd2">useState&lt;/span>(&lt;span style="color:#2aa198;font-weight:bold">1&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">useEffect&lt;/span>(() =&amp;gt; {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">fetchUsers&lt;/span>();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }, [&lt;span style="color:#268bd2">filter&lt;/span>, &lt;span style="color:#268bd2">sortBy&lt;/span>, &lt;span style="color:#268bd2">page&lt;/span>]);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#859900">const&lt;/span> &lt;span style="color:#268bd2">fetchUsers&lt;/span> = &lt;span style="color:#859900">async&lt;/span> () =&amp;gt; {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#859900">try&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">setLoading&lt;/span>(&lt;span style="color:#859900;font-weight:bold">true&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#859900">const&lt;/span> &lt;span style="color:#268bd2">response&lt;/span> = &lt;span style="color:#859900">await&lt;/span> &lt;span style="color:#268bd2">fetch&lt;/span>(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#2aa198">`/api/users?filter=&lt;/span>&lt;span style="color:#2aa198">${&lt;/span>&lt;span style="color:#268bd2">filter&lt;/span>&lt;span style="color:#2aa198">}&lt;/span>&lt;span style="color:#2aa198">&amp;amp;sort=&lt;/span>&lt;span style="color:#2aa198">${&lt;/span>&lt;span style="color:#268bd2">sortBy&lt;/span>&lt;span style="color:#2aa198">}&lt;/span>&lt;span style="color:#2aa198">&amp;amp;page=&lt;/span>&lt;span style="color:#2aa198">${&lt;/span>&lt;span style="color:#268bd2">page&lt;/span>&lt;span style="color:#2aa198">}&lt;/span>&lt;span style="color:#2aa198">`&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> );
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#859900">const&lt;/span> &lt;span style="color:#268bd2">data&lt;/span> = &lt;span style="color:#859900">await&lt;/span> &lt;span style="color:#268bd2">response&lt;/span>.&lt;span style="color:#268bd2">json&lt;/span>();
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">setUsers&lt;/span>(&lt;span style="color:#268bd2">data&lt;/span>.&lt;span style="color:#268bd2">users&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">setTotalPages&lt;/span>(&lt;span style="color:#268bd2">data&lt;/span>.&lt;span style="color:#268bd2">totalPages&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> } &lt;span style="color:#859900">catch&lt;/span> (&lt;span style="color:#268bd2">err&lt;/span>) {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">setError&lt;/span>(&lt;span style="color:#268bd2">err&lt;/span>.&lt;span style="color:#268bd2">message&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> } &lt;span style="color:#859900">finally&lt;/span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">setLoading&lt;/span>(&lt;span style="color:#859900;font-weight:bold">false&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> };
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#859900">const&lt;/span> &lt;span style="color:#268bd2">handleFilterChange&lt;/span> = (&lt;span style="color:#268bd2">e&lt;/span>) =&amp;gt; &lt;span style="color:#268bd2">setFilter&lt;/span>(&lt;span style="color:#268bd2">e&lt;/span>.&lt;span style="color:#268bd2">target&lt;/span>.&lt;span style="color:#268bd2">value&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#859900">const&lt;/span> &lt;span style="color:#268bd2">handleSortChange&lt;/span> = (&lt;span style="color:#268bd2">e&lt;/span>) =&amp;gt; &lt;span style="color:#268bd2">setSortBy&lt;/span>(&lt;span style="color:#268bd2">e&lt;/span>.&lt;span style="color:#268bd2">target&lt;/span>.&lt;span style="color:#268bd2">value&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#859900">const&lt;/span> &lt;span style="color:#268bd2">handlePageChange&lt;/span> = (&lt;span style="color:#268bd2">newPage&lt;/span>) =&amp;gt; &lt;span style="color:#268bd2">setPage&lt;/span>(&lt;span style="color:#268bd2">newPage&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#859900">if&lt;/span> (&lt;span style="color:#268bd2">loading&lt;/span>) &lt;span style="color:#859900">return&lt;/span> &amp;lt;&lt;span style="color:#268bd2;font-weight:bold">LoadingSpinner&lt;/span> /&amp;gt;;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#859900">if&lt;/span> (&lt;span style="color:#268bd2">error&lt;/span>) &lt;span style="color:#859900">return&lt;/span> &amp;lt;&lt;span style="color:#268bd2;font-weight:bold">ErrorMessage&lt;/span> &lt;span style="color:#268bd2">error&lt;/span>={&lt;span style="color:#268bd2">error&lt;/span>} /&amp;gt;;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#859900">return&lt;/span> (
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#268bd2;font-weight:bold">div&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#268bd2;font-weight:bold">FilterBar&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">filter&lt;/span>={&lt;span style="color:#268bd2">filter&lt;/span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">onFilterChange&lt;/span>={&lt;span style="color:#268bd2">handleFilterChange&lt;/span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">sortBy&lt;/span>={&lt;span style="color:#268bd2">sortBy&lt;/span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">onSortChange&lt;/span>={&lt;span style="color:#268bd2">handleSortChange&lt;/span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> /&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#268bd2;font-weight:bold">UserList&lt;/span> &lt;span style="color:#268bd2">users&lt;/span>={&lt;span style="color:#268bd2">users&lt;/span>} /&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#268bd2;font-weight:bold">Pagination&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">currentPage&lt;/span>={&lt;span style="color:#268bd2">page&lt;/span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">totalPages&lt;/span>={&lt;span style="color:#268bd2">totalPages&lt;/span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#268bd2">onPageChange&lt;/span>={&lt;span style="color:#268bd2">handlePageChange&lt;/span>}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> /&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;/&lt;span style="color:#268bd2;font-weight:bold">div&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> );
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>};
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This component isn&amp;rsquo;t terrible, but it&amp;rsquo;s not great either. It&amp;rsquo;s doing too much, handling too many concerns, and will be difficult to maintain. Yet, it&amp;rsquo;s exactly the kind of component we write when we&amp;rsquo;re under pressure or trying to move fast.&lt;/p></description></item></channel></rss>